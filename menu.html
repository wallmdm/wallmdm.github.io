<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>Loveless Cafe</title>
    </head>
    <body>
        <h1 id="menu">Loveless Cafe</h1>
        <h2>Page Subtitle</h2>

        <!-- navigation -->
        <ul id="nav">
            <li><a href="index.html">Home</a></li>
            <li><a href="menu.html">Menu &amp; Online Ordering</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>

        <p>Quisque arcu dolor, fermentum a eleifend eget, tincidunt sed nulla. Sed non vestibulum metus. Suspendisse accumsan urna ac nibh fringilla, sit amet pulvinar quam venenatis. Suspendisse a purus viverra, dapibus nunc at, bibendum nibh. Vestibulum non augue nibh. Sed a libero in nunc malesuada varius. Phasellus imperdiet, tellus vitae varius tempor, quam felis lobortis tortor, id tempor magna nisl accumsan orci. Suspendisse potenti. </p>

        <ul id="filters">
            Snacks: <input type="checkbox" name="snacks" id="snacks" checked>
            Drinks: <input type="checkbox" name="drinks" id="drinks" checked>
            Gluten free: <input type="checkbox" name="gluten" id="gluten" checked>
        </ul>

        <p><strong>Options:</strong></p>

        <ul id="loveless-menu">
            <li class="gluten drink">Coffee $3.50  <input type="button" value="Add coffee to cart" id="coffee"></li>
            <li class="drink">Tea $3  <input type="button" value="Add tea to cart" id="tea"></li>
            <li class="drink">Latte $5  <input type="button" value="Add latte to cart" id="latte"></li>
            <li class="drink">Mocha $5  <input type="button" value="Add mocha to cart" id="mocha"></li>
            <li class="drink">Cappucino $5  <input type="button" value="Add cappucino to cart" id="cappucino"></li>
            <li class="snack">Muffin $4 <input type="button" value="Add muffin to cart" id="muffin"></li>
            <li class="snack">Patty $3 <input type="button" value="Add patty to cart" id="patty"></li>
            <li class="snack">Pastry $4 <input type="button" value="Add pastry to cart" id="pastry"></li>
            <li class="gluten snack">Fruit $3 <input type="button" value="Add fruit to cart" id="fruit"></li>
        </ul>

        <p><strong>Your cart:</strong></p>

        <p id="cart">Your cart is empty.</p>
        <p id="total">$0.00</p>

        <p><strong>Your payment:</strong></p>

        <form action="submit">
            <input type="text" value="" id="cost">
            <input type="button" value="Submit" id="pay">
        </form>
        
    </body>
    <script>

        // FILTERS

        // set variables for filters
        var snacks = document.querySelectorAll('.snack'),
            snackBTN = document.querySelector("#snacks"),
            drinks = document.querySelectorAll('.drink'),
            drinkBTN = document.querySelector("#drinks"),
            gluten = document.querySelectorAll('.gluten'),
            glutenBTN = document.querySelector('#gluten');

        // add event listeners for filters
        snackBTN.addEventListener('click', filter);
        drinkBTN.addEventListener('click', filter);
        glutenBTN.addEventListener('click', filterGluten);

        // filter functions
        function filter() {
            if (snackBTN.checked == false) {
                for(var i = 0; i < snacks.length; i++){
                    snacks[i].style.display = "none"; 
                }
            }
            if (snackBTN.checked == true) {
                for(var i = 0; i < snacks.length; i++){
                    snacks[i].style.display = "list-item"; 
                }
            }
            if (drinkBTN.checked == false) {
                for(var i = 0; i < drinks.length; i++){
                    drinks[i].style.display = "none"; 
                }
            }
            if (drinkBTN.checked == true) {
                for(var i = 0; i < drinks.length; i++){
                    drinks[i].style.display = "list-item"; 
                }
            }
        }

        function filterGluten() {
            if (glutenBTN.checked == false) {
                for(var i = 0; i < gluten.length; i++){
                    gluten[i].style.display = "none"; 
                }
            }
            else {
                for(var i = 0; i < gluten.length; i++){
                    gluten[i].style.display = "list-item"; 
                }
            }
            if (drinkBTN.checked == false) {
                for(var i = 0; i < drinks.length; i++){
                    drinks[i].style.display = "none"; 
                }
            }
            else if (snackBTN.checked == false) {
                for(var i = 0; i < snacks.length; i++){
                    snacks[i].style.display = "none"; 
                }
            }
        }

        // ORDERING

        // start total counter
        var total = 0,
            quantity = 0;

        // set variables for ordering
        var coffee = document.querySelector('#coffee'),
            tea = document.querySelector('#tea'),
            mocha = document.querySelector('#mocha'),
            latte = document.querySelector('#latte'),
            cappucino = document.querySelector('#cappucino'),
            patty = document.querySelector('#patty'),
            pastry = document.querySelector('#pastry'),
            fruit = document.querySelector('#fruit'),
            muffin = document.querySelector('#muffin'),
            totalText = document.querySelector('#total'),
            cart = document.querySelector('#cart');

        // set event listeners
        coffee.addEventListener('click', add);
        tea.addEventListener('click', add);
        latte.addEventListener('click', add);
        mocha.addEventListener('click', add);
        cappucino.addEventListener('click', add);
        patty.addEventListener('click', add);
        pastry.addEventListener('click', add);
        fruit.addEventListener('click', add);
        muffin.addEventListener('click', add);

        function add() {
            if (total == 0) {
                cart.innerHTML = "";
            }
            if (this.id == "coffee") {
                total += 3.50;
            }
            if (this.id == "tea" || this.id == "patty" || this.id == "fruit") {
                total += 3;
            }
            if (this.id == "mocha" || this.id == "latte" || this.id == "cappucino") {
                total += 5;
            }
            if (this.id == "muffin" || this.id == "pastry") {
                total += 4;
            }
            totalText.textContent = "$" + total;
            
        }

        // PAYMENT

        // variables for payment
        var cost = document.querySelector("#cost"),
            pay = document.querySelector("#pay");

        // function
        function payment() {
            if (cost.value == total) {
                alert("Thank you for your purchase. We are saving your items for you.");
            } else if (cost.value > total) {
                alert("You are trying to overpay. Did you mean to do that?")
            } else {
                alert ("Insufficient payment. Please revise and resubmit.")
            }
            cost.value = 0;
        }

        // event listener
        pay.addEventListener('click', payment);


    </script>
</html>